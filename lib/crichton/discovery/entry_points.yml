id: EntryPoints
doc: Describes the semantics, states and state transitions associated with entry_points of resources.
links:
  self: EntryPoints
  help: Things/EntryPoints
 
semantics:
  total_count:
    doc: The total count of entry points in a returned list.
    href: http://alps.io/schema.org/Integer
    sample: 1
  items:
    doc: An array of resource entry points.
    href: http://alps.io/schema.org/Array
  resource_name: &resource_name
    doc: The terms to search.
    href: http://alps.io/schema.org/Text
    sample: widget
  resource_relation:
    doc: The name of the resource associated with this entry point.
    href: http://alps.io/schema.org/Text
    sample: /widgets/
  resource_uri:
    doc: The uri of the resource's entry_point
    href: http://alps.io/schema.org/Text
    sample: http://example.org/rel/widgets

extensions:
  _resource_name:
    <<: *resource_name
    field_type: text

safe:
  list:
    doc: Returns a list of entry points.
    name: self
    rt: entry_points
  search:
    doc: Returns a list of entry points that satisfy the search term.
    rt: entry_points
    descriptors:
      - href: resource_name
        ext: _resource_name
  show:
    doc: Shows a particular entry_point.
    name: self
    rt: entry_point

resources:
  entry_points:
    doc:
      html: <p>A list of entry points.</p>
    type: semantic
    links:
      self: EntryPoints#entry_points
    descriptors:
      - href: total_count
      - href: items
      - href: list
      - href: search
    states:
      entry_points:
        collection:
          doc: The entry point state for interacting with entry points.
          location: entry
          transitions:
            list:
              name: self
              next:
                - collection
            search:
              next:
                - navigation
        navigation:
          doc: Represents a filtered list of entry points.
          transitions:
            search:
              name: self
              next:
                - navigation
            list:
              next:
                - collection
  entry_point:
    doc: The entry point for a resource
    type: semantic
    links:
      self: EntryPoints#entry_point
    descriptors:
      - href: resource_relation
      - href: resource_uri
      - href: show
    states:
      default:
        doc: The default state of an entry point.
        transitions:
          show:
            name: self
            next:
              - default
      error:
        doc: An error has occured.
        location: http://alps.io/schema.org/Error

protocols:
  http:
    list:
      uri: apis
      entry_point: entry_points # Indicates this endpoint is a resource entry point for the protocol.
      method: GET
      content_types:
        - application/json-home
      headers:
      status_codes:
        200:
          description: OK
    search:
      uri: entry_points
      method: GET
      content_types:
        - application/json-home
      headers:
      status_codes:
        200:
          description: OK
    show:
      uri: apis/{name}
      method: GET
      content_types:
        - application/json-home
      headers:
      status_codes:
        200:
          description: OK
