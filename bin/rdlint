#!/usr/bin/env ruby

require "rubygems"
require "bundler"

Bundler.setup

require 'optparse'

OPTS = {}
optparse = OptionParser.new do |opts|
  opts.banner = "Usage: rdlint [options] <descriptor file name>"
  OPTS[:suppress_warnings] = false
  OPTS[:strict] = false
  OPTS[:version] = false

  opts.on('-h', '--help', 'Display this screen') do
    puts opts
    exit
  end
  opts.on('-w', '--suppress_warnings', 'Suppress lint warnings') do
    OPTS[:suppress_warnings] = true
  end
  opts.on('-s', '--strict', 'Return true/false pass analysis') do
    OPTS[:strict] = true
  end
  opts.on('-v', '--version', 'Display Crichton version') do
    OPTS[:version] = true
  end
end

require File.expand_path('../lib/lint', File.dirname(__FILE__))

optparse.parse!

ARGV.each do |file|
  Lint.validate file
end
